{"ast":null,"code":"import { defineComponent, computed, watchEffect } from \"vue\";\nimport { u as useGridTemplateArea } from \"./hooks/useGridTemplateArea-165107a8.mjs\";\nimport { u as useLayoutProps, a as useLayout } from \"./hooks/useLayout-1c284e67.mjs\";\nimport { V as VaLayoutArea } from \"./components/VaLayoutArea-32d5da8d.mjs\";\nimport { u as useDocument } from \"../../composables/useDocument-5c9446c6.mjs\";\nconst areaNames = [\"top\", \"left\", \"right\", \"bottom\"];\nconst _sfc_main = defineComponent({\n  name: \"VaLayout\",\n  props: {\n    ...useLayoutProps,\n    allowBodyScrollOnOverlay: {\n      type: Boolean,\n      default: false\n    }\n  },\n  emits: [\"top-overlay-click\", \"left-overlay-click\", \"right-overlay-click\", \"bottom-overlay-click\"],\n  components: {\n    VaLayoutArea\n  },\n  setup(props, {\n    slots\n  }) {\n    useLayout(props);\n    const doDisableScroll = computed(() => {\n      return !props.allowBodyScrollOnOverlay && areaNames.some(area => {\n        var _a;\n        return (_a = props[area]) == null ? void 0 : _a.overlay;\n      });\n    });\n    const document = useDocument();\n    watchEffect(() => {\n      var _a;\n      const overflowParent = (_a = document.value) == null ? void 0 : _a.body;\n      if (!overflowParent) {\n        return;\n      }\n      if (doDisableScroll.value) {\n        overflowParent.style.overflow = \"hidden\";\n      } else {\n        overflowParent.style.overflow = \"\";\n      }\n    });\n    return {\n      areaNames,\n      templateArea: useGridTemplateArea(props),\n      verticalTemplate: computed(() => {\n        return [slots.top ? \"min-content\" : \"0fr\", \"1fr\", slots.bottom ? \"min-content\" : \"0fr\"].filter(Boolean).join(\" \");\n      }),\n      horizontalTemplate: computed(() => {\n        return [slots.left ? \"min-content\" : \"0fr\", \"1fr\", slots.right ? \"min-content\" : \"0fr\"].filter(Boolean).join(\" \");\n      })\n    };\n  }\n});\nexport { _sfc_main as _ };","map":{"version":3,"names":["areaNames","_sfc_main","defineComponent","name","props","useLayoutProps","allowBodyScrollOnOverlay","type","Boolean","default","emits","components","VaLayoutArea","setup","slots","useLayout","doDisableScroll","computed","some","area","_a","overlay","document","useDocument","watchEffect","overflowParent","value","body","style","overflow","templateArea","useGridTemplateArea","verticalTemplate","top","bottom","filter","join","horizontalTemplate","left","right"],"sources":["../../../../../src/components/va-layout/VaLayout.vue"],"sourcesContent":["<template>\n  <div class=\"va-layout\" :style=\"`--va-0-horizontal-template: ${String(horizontalTemplate)};--va-1-vertical-template: ${String(verticalTemplate)};--va-2-template-area: ${String(templateArea)}`\">\n    <VaLayoutArea\n      v-for=\"area in areaNames\"\n      :key=\"area\"\n      :area=\"area\"\n      :config=\"$props[area] || {}\"\n      @overlay-click=\"$emit(`${area}-overlay-click`)\"\n    >\n      <slot :name=\"area\" />\n    </VaLayoutArea>\n\n    <div class=\"va-layout__area va-layout__area--content\">\n      <slot>\n        <slot name=\"content\" />\n      </slot>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, computed, watchEffect } from 'vue'\nimport {\n  useGridTemplateArea,\n  AreaName,\n} from './hooks/useGridTemplateArea'\nimport { useLayoutProps, useLayout } from './hooks/useLayout'\nimport VaLayoutArea from './components/VaLayoutArea.vue'\nimport { useDocument } from '../../composables'\n\nconst areaNames: AreaName[] = [\n  'top',\n  'left',\n  'right',\n  'bottom',\n]\n\nexport default defineComponent({\n  name: 'VaLayout',\n\n  props: {\n    ...useLayoutProps,\n    allowBodyScrollOnOverlay: { type: Boolean, default: false },\n  },\n\n  emits: [\n    'top-overlay-click',\n    'left-overlay-click',\n    'right-overlay-click',\n    'bottom-overlay-click',\n  ],\n\n  components: { VaLayoutArea },\n\n  setup (props, { slots }) {\n    useLayout(props)\n\n    const doDisableScroll = computed(() => {\n      return !props.allowBodyScrollOnOverlay && areaNames.some((area) => props[area]?.overlay)\n    })\n\n    const document = useDocument()\n\n    watchEffect(() => {\n      const overflowParent = document.value?.body\n\n      if (!overflowParent) { return }\n\n      if (doDisableScroll.value) {\n        overflowParent.style.overflow = 'hidden'\n      } else {\n        overflowParent.style.overflow = ''\n      }\n    })\n\n    return {\n      areaNames,\n      templateArea: useGridTemplateArea(props),\n      verticalTemplate: computed(() => {\n        return [\n          slots.top ? 'min-content' : '0fr',\n          '1fr',\n          slots.bottom ? 'min-content' : '0fr',\n        ]\n          .filter(Boolean)\n          .join(' ')\n      }),\n      horizontalTemplate: computed(() => {\n        return [\n          slots.left ? 'min-content' : '0fr',\n          '1fr',\n          slots.right ? 'min-content' : '0fr',\n        ]\n          .filter(Boolean)\n          .join(' ')\n      }),\n    }\n  },\n})\n</script>\n\n<style lang=\"scss\">\n@import '../../styles/resources';\n@import \"variables\";\n\n.va-layout {\n  display: grid;\n  grid-template-columns: var(--va-0-horizontal-template);\n  grid-template-rows: var(--va-1-vertical-template);\n  grid-template-areas: var(--va-2-template-area);\n  gap: 0;\n  position: relative;\n  z-index: 0;\n  max-width: 100%;\n  max-height: 100%;\n  height: 100vh;\n  width: 100vw;\n\n  &__area {\n    @include va-scroll();\n\n    &--content {\n      grid-area: content;\n      z-index: 0;\n      // Make it possible for content to be smaller than the layout\n      min-width: 0;\n      min-height: 0;\n    }\n  }\n}\n</style>\n"],"mappings":";;;;;AA8BA,MAAMA,SAAA,GAAwB,CAC5B,OACA,QACA,SACA,SACF;AAEA,MAAAC,SAAA,GAAeC,eAAA,CAAgB;EAC7BC,IAAA,EAAM;EAENC,KAAA,EAAO;IACL,GAAGC,cAAA;IACHC,wBAAA,EAA0B;MAAEC,IAAA,EAAMC,OAAA;MAASC,OAAA,EAAS;IAAM;EAC5D;EAEAC,KAAA,EAAO,CACL,qBACA,sBACA,uBACA,uBACF;EAEAC,UAAA,EAAY;IAAEC;EAAa;EAE3BC,MAAOT,KAAA,EAAO;IAAEU;EAAA,GAAS;IACvBC,SAAA,CAAUX,KAAK;IAET,MAAAY,eAAA,GAAkBC,QAAA,CAAS,MAAM;MAC9B,QAACb,KAAA,CAAME,wBAAA,IAA4BN,SAAA,CAAUkB,IAAA,CAAMC,IAAA,IAAS;;QAAA,QAAAC,EAAA,GAAAhB,KAAA,CAAMe,IAAI,MAAV,gBAAAC,EAAA,CAAaC,OAAA;MAAA,CAAO;IAAA,CACxF;IAED,MAAMC,QAAA,GAAWC,WAAA;IAEjBC,WAAA,CAAY,MAAM;;MACV,MAAAC,cAAA,IAAiBL,EAAA,GAAAE,QAAA,CAASI,KAAA,KAAT,gBAAAN,EAAA,CAAgBO,IAAA;MAEvC,IAAI,CAACF,cAAA,EAAgB;QAAE;MAAO;MAE9B,IAAIT,eAAA,CAAgBU,KAAA,EAAO;QACzBD,cAAA,CAAeG,KAAA,CAAMC,QAAA,GAAW;MAAA,OAC3B;QACLJ,cAAA,CAAeG,KAAA,CAAMC,QAAA,GAAW;MAClC;IAAA,CACD;IAEM;MACL7B,SAAA;MACA8B,YAAA,EAAcC,mBAAA,CAAoB3B,KAAK;MACvC4B,gBAAA,EAAkBf,QAAA,CAAS,MAAM;QACxB,QACLH,KAAA,CAAMmB,GAAA,GAAM,gBAAgB,OAC5B,OACAnB,KAAA,CAAMoB,MAAA,GAAS,gBAAgB,MAE9B,CAAAC,MAAA,CAAO3B,OAAO,EACd4B,IAAA,CAAK,GAAG;MAAA,CACZ;MACDC,kBAAA,EAAoBpB,QAAA,CAAS,MAAM;QAC1B,QACLH,KAAA,CAAMwB,IAAA,GAAO,gBAAgB,OAC7B,OACAxB,KAAA,CAAMyB,KAAA,GAAQ,gBAAgB,MAE7B,CAAAJ,MAAA,CAAO3B,OAAO,EACd4B,IAAA,CAAK,GAAG;MAAA,CACZ;IAAA;EAEL;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}