{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { useForm } from 'vuestic-ui';\nimport router from '@/router';\nimport axios from \"axios\";\nconst Axios = axios.create({\n  baseURL: process.env.REACT_APP_API_ENDPOINT,\n  headers: {}\n});\nconst __default__ = {\n  name: 'LoginTodo',\n  data() {\n    return {\n      name: \"\",\n      email: \"\",\n      password: '',\n      c_password: '',\n      user: {\n        name: \"\",\n        email: \"\",\n        password: '',\n        c_password: ''\n      }\n    };\n  },\n  methods: {\n    async login() {\n      this.user['name'] = this.name;\n      this.user['password'] = this.password;\n      this.user['c_password'] = this.c_password;\n      this.user['email'] = this.email;\n      Axios.post(\"http://127.0.0.1:8000/api/login\", this.user).then(response => {\n        localStorage.clear();\n        console.log(response.data);\n        localStorage.setItem('access_token', response), router.push('/home');\n      }).catch(err => {\n        alert(\"error\"), console.log(err);\n      });\n    }\n  }\n};\nexport default /*#__PURE__*/Object.assign(__default__, {\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const {\n      isValid,\n      validate\n    } = useForm('formRef');\n    const __returned__ = {\n      Axios,\n      isValid,\n      validate,\n      get router() {\n        return router;\n      },\n      get axios() {\n        return axios;\n      },\n      get useForm() {\n        return useForm;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n});","map":{"version":3,"names":["useForm","router","axios","Axios","create","baseURL","process","env","REACT_APP_API_ENDPOINT","headers","__default__","name","data","email","password","c_password","user","methods","login","post","then","response","localStorage","clear","console","log","setItem","push","catch","err","alert","isValid","validate"],"sources":["/home/festin.philip/first_project/src/components/login.vue"],"sourcesContent":["<template>\n  <div align=\"center\">\n  <va-form \n    class=\"w-[300px]\"\n    ref=\"formRef\"\n\n  >\n    <va-input\n      v-model=\"name\"\n      :rules=\"[(value) => (value && value.length > 0) || 'Please enter username']\"\n      label=\"Enter Username:\"\n    />\n<br>\n<va-input\n      v-model=\"email\"\n      :rules=\"[(value) => (value && value.length > 0) || 'Please enter email']\"\n      label=\"Enter Email:\"\n    />\n<br>\n    <va-input\n      v-model=\"password\"\n      :rules=\"[(value) => (value && value.length>7) || 'Password is too short']\"\n      class=\"mt-3\"\n      type=\"password\"\n      label=\"Enter password:\"\n    />\n    <br>\n    <va-input\n      v-model=\"c_password\"\n      :rules=\"[(value) => (value && value.length>7) || 'Password is too short']\"\n      class=\"mt-3\"\n      type=\"password\"\n      label=\"Confirm password:\"\n    />\n    <br>\n    <br>\n    <va-button\n      \n      class=\"mt-3\"\n      :disabled=\"!isValid\" @click=\"validate() && login()\"\n    ><font-awesome-icon :icon=\"['fas', 'plus']\" spin/>&nbsp;\n      Login\n    </va-button>\n  </va-form>\n\n</div>\n</template>\n<script setup>\n  import { useForm } from 'vuestic-ui'\n \n  const { isValid, validate } = useForm('formRef')\n\n\n\n</script>\n  <script>\n  import router from '@/router';\n  import axios from \"axios\";\n\nconst Axios = axios.create({\n    baseURL:process.env.REACT_APP_API_ENDPOINT,\n    headers: {},\n});\n  export default {\n    name: 'LoginTodo',\n    data(){\n      return{\n        name:\"\",email:\"\",password:'',c_password:'',user:{name:\"\",email:\"\",password:'',c_password:''}\n      }\n    },\n    methods:{\n\n async login(){\n    this.user['name']=this.name\n    this.user['password']=this.password\n    this.user['c_password']=this.c_password\n    this.user['email']=this.email\n  \n  Axios\n  .post(\"http://127.0.0.1:8000/api/login\",this.user)\n  .then(response=>{\n      localStorage.clear()  \n      console.log(response.data)\n         localStorage.setItem('access_token', response),\n        \n         router.push('/home')}).catch(err=>{alert(\"error\"),console.log(err)})\n\n  }\n    }\n  };\n  </script>"],"mappings":";AAgDE,SAASA,OAAO,QAAQ,YAAY;AAQpC,OAAOC,MAAM,MAAM,UAAU;AAC7B,OAAOC,KAAK,MAAM,OAAO;AAE3B,MAAMC,KAAK,GAAGD,KAAK,CAACE,MAAM,CAAC;EACvBC,OAAO,EAACC,OAAO,CAACC,GAAG,CAACC,sBAAsB;EAC1CC,OAAO,EAAE,CAAC;AACd,CAAC,CAAC;AACA,MAAAC,WAAA,GAAe;EACbC,IAAI,EAAE,WAAW;EACjBC,IAAIA,CAAA,EAAE;IACJ,OAAM;MACJD,IAAI,EAAC,EAAE;MAACE,KAAK,EAAC,EAAE;MAACC,QAAQ,EAAC,EAAE;MAACC,UAAU,EAAC,EAAE;MAACC,IAAI,EAAC;QAACL,IAAI,EAAC,EAAE;QAACE,KAAK,EAAC,EAAE;QAACC,QAAQ,EAAC,EAAE;QAACC,UAAU,EAAC;MAAE;IAC7F,CAAC;EACH,CAAC;EACDE,OAAO,EAAC;IAEX,MAAMC,KAAKA,CAAA,EAAE;MACV,IAAI,CAACF,IAAI,CAAC,MAAM,CAAC,GAAC,IAAI,CAACL,IAAI;MAC3B,IAAI,CAACK,IAAI,CAAC,UAAU,CAAC,GAAC,IAAI,CAACF,QAAQ;MACnC,IAAI,CAACE,IAAI,CAAC,YAAY,CAAC,GAAC,IAAI,CAACD,UAAU;MACvC,IAAI,CAACC,IAAI,CAAC,OAAO,CAAC,GAAC,IAAI,CAACH,KAAK;MAE/BV,KAAK,CACJgB,IAAI,CAAC,iCAAiC,EAAC,IAAI,CAACH,IAAI,CAAC,CACjDI,IAAI,CAACC,QAAQ,IAAE;QACZC,YAAY,CAACC,KAAK,CAAC,CAAC;QACpBC,OAAO,CAACC,GAAG,CAACJ,QAAQ,CAACT,IAAI,CAAC;QACvBU,YAAY,CAACI,OAAO,CAAC,cAAc,EAAEL,QAAQ,CAAC,EAE9CpB,MAAM,CAAC0B,IAAI,CAAC,OAAO,CAAC;MAAA,CAAC,CAAC,CAACC,KAAK,CAACC,GAAG,IAAE;QAACC,KAAK,CAAC,OAAO,CAAC,EAACN,OAAO,CAACC,GAAG,CAACI,GAAG,CAAC;MAAA,CAAC,CAAC;IAE3E;EACE;AACF,CAAC;;;;;;IAvCD,MAAM;MAAEE,OAAO;MAAEC;IAAS,CAAC,GAAGhC,OAAO,CAAC,SAAS,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}