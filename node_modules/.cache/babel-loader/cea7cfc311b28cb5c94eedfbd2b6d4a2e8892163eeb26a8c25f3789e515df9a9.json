{"ast":null,"code":"import { useForm } from 'vuestic-ui';\nimport { reactive } from 'vue';\nimport axios from \"axios\";\nconst __default__ = {\n  name: 'LoginTodo'\n};\nexport default /*#__PURE__*/Object.assign(__default__, {\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const {\n      isValid,\n      validate\n    } = useForm('formRef');\n    const form = reactive({\n      username: \"\",\n      password: \"\",\n      user: {\n        username: \"\",\n        password: \"\"\n      }\n    });\n    const submit = async e => {\n      form.user['username'] = form.username;\n      form.user['password'] = form.password;\n      const data = await axios.post(\"http://127.0.0.1:8000/api/v1/token/\", form.user).then(response => {\n        localStorage.setItem('access_token', response.access), localStorage.setItem('refresh_token', response.refresh);\n      }).catch(err => {\n        alert(\"error\"), console.log(err.response);\n      });\n    };\n    const __returned__ = {\n      isValid,\n      validate,\n      form,\n      submit,\n      get axios() {\n        return axios;\n      },\n      get useForm() {\n        return useForm;\n      },\n      reactive\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n});","map":{"version":3,"names":["useForm","reactive","axios","__default__","name","isValid","validate","form","username","password","user","submit","e","data","post","then","response","localStorage","setItem","access","refresh","catch","err","alert","console","log"],"sources":["/home/festin.philip/first_project/src/components/login.vue"],"sourcesContent":["<template>\n  <div align=\"center\">\n  <va-form \n    class=\"w-[300px]\"\n    ref=\"formRef\"\n\n  >\n    <va-input\n      v-model=\"form.username\"\n      :rules=\"[(value) => (value && value.length > 0) || 'Please enter username']\"\n      label=\"Enter Username:\"\n    />\n<br>\n    <va-input\n      v-model=\"form.password\"\n      :rules=\"[(value) => (value && value.length>7) || 'Password is too short']\"\n      class=\"mt-3\"\n      type=\"password\"\n      label=\"Enter password:\"\n    />\n    <br>\n    \n    <br>\n    <va-button\n      \n      class=\"mt-3\"\n      :disabled=\"!isValid\" @click=\"validate() && submit()\"\n    ><font-awesome-icon :icon=\"['fas', 'plus']\" spin/>&nbsp;\n      Login\n    </va-button>\n  </va-form>\n\n</div>\n</template>\n<script setup>\n  import { useForm } from 'vuestic-ui'\n  import {reactive} from 'vue'\n  const { isValid, validate } = useForm('formRef')\n\n  const form = reactive({\n    username:\"\",password:\"\",user:{username:\"\",password:\"\"}\n  })\n\n\n\n  const submit = async e => {\n    form.user['username']=form.username\n    form.user['password']=form.password\n   const data= await\n  axios\n  .post(\"http://127.0.0.1:8000/api/v1/token/\",form.user)\n  .then(response=>{\n         localStorage.setItem('access_token', response.access),\n         localStorage.setItem('refresh_token', response.refresh)}).catch(err=>{alert(\"error\"),console.log(err.response)})\n  }\n</script>\n  <script>\n  import axios from \"axios\";\n  export default {\n    name: 'LoginTodo'};\n  </script>"],"mappings":"AAmCE,SAASA,OAAO,QAAQ,YAAY;AACpC,SAAQC,QAAQ,QAAO,KAAK;AAqB5B,OAAOC,KAAK,MAAM,OAAO;AACzB,MAAAC,WAAA,GAAe;EACbC,IAAI,EAAE;AAAW,CAAC;;;;;;IAtBpB,MAAM;MAAEC,OAAO;MAAEC;IAAS,CAAC,GAAGN,OAAO,CAAC,SAAS,CAAC;IAEhD,MAAMO,IAAI,GAAGN,QAAQ,CAAC;MACpBO,QAAQ,EAAC,EAAE;MAACC,QAAQ,EAAC,EAAE;MAACC,IAAI,EAAC;QAACF,QAAQ,EAAC,EAAE;QAACC,QAAQ,EAAC;MAAE;IACvD,CAAC,CAAC;IAIF,MAAME,MAAM,GAAG,MAAMC,CAAC,IAAI;MACxBL,IAAI,CAACG,IAAI,CAAC,UAAU,CAAC,GAACH,IAAI,CAACC,QAAQ;MACnCD,IAAI,CAACG,IAAI,CAAC,UAAU,CAAC,GAACH,IAAI,CAACE,QAAQ;MACpC,MAAMI,IAAI,GAAE,MACbX,KAAK,CACJY,IAAI,CAAC,qCAAqC,EAACP,IAAI,CAACG,IAAI,CAAC,CACrDK,IAAI,CAACC,QAAQ,IAAE;QACTC,YAAY,CAACC,OAAO,CAAC,cAAc,EAAEF,QAAQ,CAACG,MAAM,CAAC,EACrDF,YAAY,CAACC,OAAO,CAAC,eAAe,EAAEF,QAAQ,CAACI,OAAO,CAAC;MAAA,CAAC,CAAC,CAACC,KAAK,CAACC,GAAG,IAAE;QAACC,KAAK,CAAC,OAAO,CAAC,EAACC,OAAO,CAACC,GAAG,CAACH,GAAG,CAACN,QAAQ,CAAC;MAAA,CAAC,CAAC;IACvH,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}