{"ast":null,"code":"import { u as unwrapEl } from \"../utils/unwrapEl-4d79d250.mjs\";\nimport { f as focusElement, b as blurElement } from \"../utils/focus-685f6da0.mjs\";\nimport { computed } from \"vue\";\nimport { u as useEvent } from \"./useEvent-0856a587.mjs\";\nimport { u as useActiveElement } from \"./useActiveElement-6965d0a8.mjs\";\nimport { a as isNil } from \"../../vendor-2b2dbafd.mjs\";\nconst useFocusEmits = [\"focus\", \"blur\"];\nfunction useFocus(el, emit) {\n  const activeElement = useActiveElement();\n  const isFocused = computed({\n    get: () => {\n      if (isNil(activeElement.value)) {\n        return false;\n      }\n      if (isNil(el == null ? void 0 : el.value)) {\n        return false;\n      }\n      return activeElement.value === (el == null ? void 0 : el.value);\n    },\n    set: value => {\n      if (value) {\n        focus();\n      } else {\n        blur();\n      }\n    }\n  });\n  const onFocus = e => {\n    emit == null ? void 0 : emit(\"focus\", e);\n  };\n  const onBlur = e => {\n    emit == null ? void 0 : emit(\"blur\", e);\n  };\n  const focus = () => {\n    if (!(el == null ? void 0 : el.value)) {\n      return;\n    }\n    focusElement(unwrapEl(el == null ? void 0 : el.value));\n  };\n  const blur = () => {\n    if (!(el == null ? void 0 : el.value)) {\n      return;\n    }\n    blurElement(unwrapEl(el == null ? void 0 : el.value));\n  };\n  useEvent(\"focus\", onFocus, el);\n  useEvent(\"blur\", onBlur, el);\n  return {\n    isFocused,\n    onFocus,\n    onBlur,\n    focus,\n    blur\n  };\n}\nexport { useFocusEmits as a, useFocus as u };","map":{"version":3,"names":["useFocusEmits","useFocus","el","emit","activeElement","useActiveElement","isFocused","computed","get","isNil","value","set","focus","blur","onFocus","e","onBlur","focusElement","unwrapEl","blurElement","useEvent"],"sources":["../../../../src/composables/useFocus.ts"],"sourcesContent":["import { unwrapEl } from './../utils/unwrapEl'\nimport { focusElement, blurElement } from './../utils/focus'\nimport { ref, onMounted, onBeforeUnmount, Ref, Component, computed } from 'vue'\nimport { useEvent } from './useEvent'\nimport { useActiveElement } from './useActiveElement'\nimport isNil from 'lodash/isNil'\n\nexport const useFocusEmits = ['focus', 'blur'] as const\n\nexport function useFocus (\n  el?: Ref<HTMLElement | null | undefined | Component>,\n  emit?: (event: 'focus' | 'blur', e?: Event) => void,\n) {\n  const activeElement = useActiveElement()\n  const isFocused = computed({\n    get: () => {\n      if (isNil(activeElement.value)) { return false }\n      if (isNil(el?.value)) { return false }\n\n      return activeElement.value === el?.value\n    },\n    set: (value) => {\n      if (value) {\n        focus()\n      } else {\n        blur()\n      }\n    },\n  })\n\n  const onFocus = (e?: Event) => {\n    emit?.('focus', e)\n  }\n\n  const onBlur = (e?: Event) => {\n    emit?.('blur', e)\n  }\n\n  const focus = (): void => {\n    if (!el?.value) { return }\n    focusElement(unwrapEl(el?.value))\n  }\n\n  const blur = (): void => {\n    if (!el?.value) { return }\n    blurElement(unwrapEl(el?.value))\n  }\n\n  useEvent('focus', onFocus, el)\n  useEvent('blur', onBlur, el)\n\n  return {\n    isFocused,\n    onFocus,\n    onBlur,\n    focus,\n    blur,\n  }\n}\n"],"mappings":";;;;;;AAOa,MAAAA,aAAA,GAAgB,CAAC,SAAS,MAAM;AAE7B,SAAAC,SACdC,EAAA,EACAC,IAAA,EACA;EACA,MAAMC,aAAA,GAAgBC,gBAAA;EACtB,MAAMC,SAAA,GAAYC,QAAA,CAAS;IACzBC,GAAA,EAAKA,CAAA,KAAM;MACL,IAAAC,KAAA,CAAML,aAAA,CAAcM,KAAK,GAAG;QAAS;MAAM;MAC3C,IAAAD,KAAA,CAAMP,EAAA,oBAAAA,EAAA,CAAIQ,KAAK,GAAG;QAAS;MAAM;MAE9B,OAAAN,aAAA,CAAcM,KAAA,MAAUR,EAAA,oBAAAA,EAAA,CAAIQ,KAAA;IACrC;IACAC,GAAA,EAAMD,KAAA,IAAU;MACd,IAAIA,KAAA,EAAO;QACHE,KAAA;MAAA,OACD;QACAC,IAAA;MACP;IACF;EAAA,CACD;EAEK,MAAAC,OAAA,GAAWC,CAAA,IAAc;IAC7BZ,IAAA,oBAAAA,IAAA,CAAO,SAASY,CAAA;EAAC;EAGb,MAAAC,MAAA,GAAUD,CAAA,IAAc;IAC5BZ,IAAA,oBAAAA,IAAA,CAAO,QAAQY,CAAA;EAAC;EAGlB,MAAMH,KAAA,GAAQA,CAAA,KAAY;IACpB,MAACV,EAAA,oBAAAA,EAAA,CAAIQ,KAAA,GAAO;MAAE;IAAO;IACZO,YAAA,CAAAC,QAAA,CAAShB,EAAA,oBAAAA,EAAA,CAAIQ,KAAK,CAAC;EAAA;EAGlC,MAAMG,IAAA,GAAOA,CAAA,KAAY;IACnB,MAACX,EAAA,oBAAAA,EAAA,CAAIQ,KAAA,GAAO;MAAE;IAAO;IACbS,WAAA,CAAAD,QAAA,CAAShB,EAAA,oBAAAA,EAAA,CAAIQ,KAAK,CAAC;EAAA;EAGxBU,QAAA,UAASN,OAAA,EAASZ,EAAE;EACpBkB,QAAA,SAAQJ,MAAA,EAAQd,EAAE;EAEpB;IACLI,SAAA;IACAQ,OAAA;IACAE,MAAA;IACAJ,KAAA;IACAC;EAAA;AAEJ"},"metadata":{},"sourceType":"module","externalDependencies":[]}