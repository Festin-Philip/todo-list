{"ast":null,"code":"import { _ as _sfc_main } from \"./VaColorInput.vue_vue_type_script_lang-ef5ad674.mjs\";\nimport { resolveComponent, openBlock, createElementBlock, createVNode, mergeProps, withCtx, withKeys, withDirectives, createElementVNode, vModelText } from \"vue\";\nimport { _ as _export_sfc } from \"../../../plugin-vue_export-helper-cc2b3d55.mjs\";\nconst VaColorInput_vue_vue_type_style_index_0_lang = \"\";\nconst _hoisted_1 = {\n  class: \"va-color-input\"\n};\nfunction _sfc_render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_va_color_indicator = resolveComponent(\"va-color-indicator\");\n  const _component_va_input = resolveComponent(\"va-input\");\n  return openBlock(), createElementBlock(\"div\", _hoisted_1, [createVNode(_component_va_input, mergeProps(_ctx.vaInputProps, {\n    modelValue: _ctx.valueComputed,\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => _ctx.valueComputed = $event),\n    class: \"va-color-input__input\",\n    tabindex: _ctx.tabIndexComputed\n  }), {\n    appendInner: withCtx(() => [createVNode(_component_va_color_indicator, {\n      class: \"va-color-input__dot\",\n      role: \"button\",\n      \"aria-label\": _ctx.tp(_ctx.$props.ariaOpenColorPickerLabel),\n      \"aria-disabled\": _ctx.$props.disabled,\n      tabindex: _ctx.tabIndexComputed,\n      color: _ctx.valueComputed,\n      indicator: _ctx.$props.indicator,\n      size: \"16px\",\n      onClick: _ctx.callPickerDialog,\n      onKeydown: [withKeys(_ctx.callPickerDialog, [\"space\"]), withKeys(_ctx.callPickerDialog, [\"enter\"])]\n    }, null, 8, [\"aria-label\", \"aria-disabled\", \"tabindex\", \"color\", \"indicator\", \"onClick\", \"onKeydown\"])]),\n    _: 1\n  }, 16, [\"modelValue\", \"tabindex\"]), withDirectives(createElementVNode(\"input\", {\n    ref: \"colorPicker\",\n    type: \"color\",\n    class: \"va-color-input__hidden-input\",\n    \"aria-hidden\": \"true\",\n    tabindex: \"-1\",\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => _ctx.inputValue = $event)\n  }, null, 512), [[vModelText, _ctx.inputValue]])]);\n}\nconst _VaColorInput = /* @__PURE__ */_export_sfc(_sfc_main, [[\"render\", _sfc_render]]);\nexport { _VaColorInput as _ };\nimport '../../../VaColorInput.css';","map":{"version":3,"names":["_component_va_input","resolveComponent","createElementBlock","_hoisted_1","createVNode","mergeProps","_ctx","vaInputProps","modelValue","valueComputed","_cache","$event","class","tabindex","tabIndexComputed","appendInner","withCtx","_component_va_color_indicator","role","tp","$props","ariaOpenColorPickerLabel","disabled","color","indicator","size","onClick","callPickerDialog","onKeydown","withKeys","withDirectives","createElementVNode","ref","type","inputValue","vModelText"],"sources":["../../../../../src/components/va-color-input/VaColorInput.vue"],"sourcesContent":["<template>\n  <div class=\"va-color-input\">\n    <va-input\n      v-bind=\"vaInputProps\"\n      v-model=\"valueComputed\"\n      class=\"va-color-input__input\"\n      :tabindex=\"tabIndexComputed\"\n    >\n      <template #appendInner>\n        <va-color-indicator\n          class=\"va-color-input__dot\"\n          role=\"button\"\n          :aria-label=\"tp($props.ariaOpenColorPickerLabel)\"\n          :aria-disabled=\"$props.disabled\"\n          :tabindex=\"tabIndexComputed\"\n          :color=\"valueComputed\"\n          :indicator=\"$props.indicator\"\n          size=\"16px\"\n          @click=\"callPickerDialog\"\n          @keydown.space=\"callPickerDialog\"\n          @keydown.enter=\"callPickerDialog\"\n        />\n      </template>\n    </va-input>\n    <input\n      ref=\"colorPicker\"\n      type=\"color\"\n      class=\"va-color-input__hidden-input\"\n      aria-hidden=\"true\"\n      tabindex=\"-1\"\n      v-model=\"inputValue\"\n    />\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, PropType, shallowRef, computed } from 'vue'\n\nimport { useComponentPresetProp, useStateful, useStatefulProps, useStatefulEmits, useTranslation } from '../../composables'\n\nimport { VaColorIndicator } from '../va-color-indicator'\nimport { VaInput } from '../va-input'\nimport { extractComponentProps, filterComponentProps } from '../../utils/component-options'\nimport throttle from 'lodash/throttle'\n\nconst VaInputProps = extractComponentProps(VaInput)\n\nexport default defineComponent({\n  name: 'VaColorInput',\n  components: {\n    VaInput,\n    VaColorIndicator,\n  },\n  emits: [...useStatefulEmits],\n  props: {\n    ...VaInputProps,\n    ...useStatefulProps,\n    ...useComponentPresetProp,\n    modelValue: { type: String, default: null },\n    disabled: { type: Boolean, default: false },\n    indicator: {\n      type: String as PropType<'dot' | 'square'>,\n      default: 'dot',\n      validator: (value: string) => ['dot', 'square'].includes(value),\n    },\n    ariaOpenColorPickerLabel: { type: String, default: '$t:openColorPicker' },\n  },\n  setup: (props, { emit }) => {\n    const colorPicker = shallowRef<HTMLInputElement>()\n\n    const { valueComputed } = useStateful(props, emit)\n\n    const callPickerDialog = () => !props.disabled && colorPicker.value?.click()\n\n    const tabIndexComputed = computed(() => props.disabled ? -1 : 0)\n\n    const inputValue = computed({\n      get: () => props.modelValue,\n      set: throttle((value) => emit('update:modelValue', value), 500),\n    })\n\n    return {\n      ...useTranslation(),\n      valueComputed,\n      inputValue,\n      callPickerDialog,\n      colorPicker,\n      tabIndexComputed,\n      vaInputProps: filterComponentProps(VaInputProps),\n    }\n  },\n})\n</script>\n\n<style lang=\"scss\">\n.va-color-input {\n  display: flex;\n  align-items: center !important;\n\n  .form-group {\n    margin-bottom: 0;\n  }\n\n  &__input {\n    margin-bottom: 0;\n    min-width: 5.6rem;\n\n    &__pointer {\n      cursor: pointer;\n    }\n  }\n\n  &__hidden-input {\n    visibility: hidden;\n    width: 0;\n    height: 0;\n    overflow: hidden;\n    position: absolute;\n    pointer-events: none;\n  }\n}\n</style>\n"],"mappings":";;;;;;;;;EACE,MAAAA,mBAAA,GAAAC,gBAAA,CA+BM,UA/BN;mBAG0B,GAAAC,kBAAA,QAAAC,UAAA,GAAbC,WAAA,CAAAJ,mBAAA,EAAAK,UAAA,CAAAC,IAAA,CAAAC,YAAA;IACTC,UAAA,EAAMF,IAAA,CAAAG,aAAA;IACL,uBAAUC,MAAA,CAAgB,OAAAA,MAAA,MAAAC,MAAA,IAAAL,IAAA,CAAAG,aAAA,GAAAE,MAAA;IAAAC,KAAA;IAEhBC,QAAA,EAAWP,IAAA,CAAAQ;EAAA,CACpB;IACQC,WAAA,EAAAC,OAAA,QAAAZ,WAAA,CACDa,6BAAA,EAAQ;MACZL,KAAA;MACAM,IAAA;MACA,cAAUZ,IAAA,CAAgBa,EAAA,CAAAb,IAAA,CAAAc,MAAA,CAAAC,wBAAA;MAC1B,iBAAOf,IAAA,CAAac,MAAA,CAAAE,QAAA;MACpBT,QAAA,EAASP,IAAA,CAAEQ,gBAAA;MACZS,KAAA,EAAKjB,IAAA,CAAMG,aAAA;MACVe,SAAA,EAAOlB,IAAA,CAAAc,MAAA,CAAAI,SAAA;MACPC,IAAA;MAAeC,OAAA,EAAApB,IAAA,CAAAqB,gBAAA;MAAAC,SAAA,GAAAC,QAAA,CAAAvB,IAAA,CAAAqB,gBAAA,c;;;EAMpB,OAAI,CAAa,4BACLG,cAAA,CAAAC,kBAAA;IACZC,GAAA,EAAK;IACLC,IAAA;IACArB,KAAA;IAAA;IAAAC,QAAA;2BACSH,MAAA,CAAU,OAAAA,MAAA,MAAAC,MAAA,IAAAL,IAAA,CAAA4B,UAAA,GAAAvB,MAAA;EAAA,iBAAAwB,UAAA,EAAA7B,IAAA,CAAA4B,UAAA,E"},"metadata":{},"sourceType":"module","externalDependencies":[]}