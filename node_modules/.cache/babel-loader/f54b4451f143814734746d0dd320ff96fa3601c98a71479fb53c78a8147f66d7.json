{"ast":null,"code":"import { defineComponent, ref, watch } from \"vue\";\nconst _sfc_main = defineComponent({\n  name: \"VaLayoutSizeKeeper\",\n  emits: {\n    resize: size => true\n  },\n  setup(props, {\n    emit\n  }) {\n    const el = ref();\n    let observer = null;\n    watch(el, newEl => {\n      if (observer) {\n        observer.disconnect();\n      }\n      observer = new ResizeObserver(([el2]) => {\n        emit(\"resize\", el2.contentRect);\n      });\n      observer.observe(newEl);\n    });\n    return {\n      el\n    };\n  }\n});\nexport { _sfc_main as _ };","map":{"version":3,"names":["_sfc_main","defineComponent","name","emits","resize","size","setup","props","emit","el","ref","observer","watch","newEl","disconnect","ResizeObserver","el2","contentRect","observe"],"sources":["../../../../../../src/components/va-layout/components/VaResizeObserver.vue"],"sourcesContent":["<template>\n  <div class=\"va-resize-observer\" ref=\"el\">\n    <slot />\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, ref, watch } from 'vue'\n\nexport default defineComponent({\n  name: 'VaLayoutSizeKeeper',\n\n  emits: {\n    resize: (size: DOMRectReadOnly) => true,\n  },\n\n  setup (props, { emit }) {\n    const el = ref()\n\n    let observer: ResizeObserver | null = null\n\n    watch(el, (newEl) => {\n      if (observer) {\n        observer.disconnect()\n      }\n\n      observer = new ResizeObserver(([el]) => {\n        emit('resize', el.contentRect)\n      })\n\n      observer.observe(newEl)\n    })\n\n    return {\n      el,\n    }\n  },\n})\n</script>\n"],"mappings":";AASA,MAAAA,SAAA,GAAeC,eAAA,CAAgB;EAC7BC,IAAA,EAAM;EAENC,KAAA,EAAO;IACLC,MAAA,EAASC,IAAA,IAA0B;EACrC;EAEAC,MAAOC,KAAA,EAAO;IAAEC;EAAA,GAAQ;IACtB,MAAMC,EAAA,GAAKC,GAAA;IAEX,IAAIC,QAAA,GAAkC;IAEhCC,KAAA,CAAAH,EAAA,EAAKI,KAAA,IAAU;MACnB,IAAIF,QAAA,EAAU;QACZA,QAAA,CAASG,UAAA,CAAW;MACtB;MAEAH,QAAA,GAAW,IAAII,cAAA,CAAe,CAAC,CAACC,GAAE,MAAM;QACjCR,IAAA,WAAUQ,GAAA,CAAGC,WAAW;MAAA,CAC9B;MAEDN,QAAA,CAASO,OAAA,CAAQL,KAAK;IAAA,CACvB;IAEM;MACLJ;IAAA;EAEJ;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}